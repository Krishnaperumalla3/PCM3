<!--
  ~ Copyright (c) 2020 Pragma Edge Inc
  ~
  ~ Licensed under the Pragma Edge Inc
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ https://pragmaedge.com/licenseagreement
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="pcm-content centralize partner">
  <mat-card>
    <h4 translate>{{!!pkId ? 'GROUPS.EDIT_GROUP' : 'GROUPS.CREATE_GROUP'}}</h4>
    <mat-card>
      <form [formGroup]="createGroupForm" class="pcm-form">
        <mat-form-field>
          <input matInput placeholder='{{"GROUPS.FIELDS.LABEL" | translate }}' formControlName="groupName" name="groupName" [readonly]="!!pkId" (keyup)="trimValue(this.createGroupForm.get('groupName'))" required />
        </mat-form-field>
      </form>
      <div style="margin-top: 10px">
        <h4>{{"GROUPS.ASSIGN_PARTNER" | translate}}</h4>
        <pcm-pcm-list-box *ngIf="(partnerList && partnerList.length > 0) || (selectedList && selectedList.length > 0)" [data]="partnerList" [selected]="selectedList" valueField="key" [textField]="['value']"
                          (onPartnerItemsMoved)="onPartnerItemsMoved($event)"></pcm-pcm-list-box>
      </div>
      <div class="btn-grp sbmt-btn">
        <button type="submit" class="btn btn-primary" (click)="create(createGroupForm)" translate>{{ !!pkId ? "GROUPS.BUTTONS.UPDATE_GROUP" : "GROUPS.BUTTONS.CREATE_GROUP"}}</button>
        <button type="button" class="btn btn-info" (click)="cancel()">{{"GROUPS.BUTTONS.CANCEL" | translate}}</button>
      </div>
    </mat-card>
  </mat-card>
</div>
