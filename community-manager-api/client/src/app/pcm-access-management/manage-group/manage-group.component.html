<!--
  ~ Copyright (c) 2020 Pragma Edge Inc
  ~
  ~ Licensed under the Pragma Edge Inc
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ https://pragmaedge.com/licenseagreement
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="pcm-content centralize partner">
  <mat-card>
    <h4>{{"GROUPS.SEARCH_GROUP" | translate}}</h4>
    <div style="width: 50%">
      <form [formGroup]="manageGroupForm" class="pcm-form">
        <mat-form-field>
          <input matInput placeholder='{{"GROUPS.FIELDS.LABEL" | translate}}' formControlName="groupName" name="groupName"  (keyup)="trimValue(this.manageGroupForm.get('groupName'))"/>
        </mat-form-field>
        <div class="btn-grp">
          <button type="submit" class="btn btn-primary" (click)="onSubmit(manageGroupForm)">{{"GROUPS.BUTTONS.SEARCH_GROUPS" | translate}}</button>
          <button type="button" class="btn btn-info" (click)="resetForm()">{{"GROUPS.BUTTONS.RESET_SEARCH" | translate}}</button>
        </div>
      </form>
    </div>

    <mat-card  style="margin-top: 10px; width: 50%" *ngIf="showResults">
      <app-pcm-table (columnsChanged)="columnsChanged($event)" (pagination)="pagination($event)" (resStatus)="resFromTable($event)" (sortChange)="sort($event)"
                     [actionMenu]="actionButtons" [currentPage]="currentPage"
                     [dataSource]="searchResults" [displayedColumns]="displayedColumns"
                     [headerColumns]="headerColumns" [page]="'manage group'"
                     [serachTblConfigRef]="serachTblConfigRef" [searchTblConfig]="serachTblConfig" [size]="qryParams.size"
                     [sortBy]='sortBy'
                     [sortDir]='sortDir' [totalElements]='totalElements' [totalPages]='totalPages'>
      </app-pcm-table>
    </mat-card>
  </mat-card>
</div>
